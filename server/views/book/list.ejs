<!--File Name: Home.ejs
    Name: Junaid Saad Ahmed
    Student Id: 301213252
    Course: COMP-229 Sec.004-->


    <%- include('../partials/header.ejs') %>
    
        <%- include('../partials/main_nav.ejs') %>
      <!-- Main Content -->
  <main class="container">
    <div class="row">
        <div class="offset-md col-md-13"><br>
            <h1 class="text-center"><%= title %></h1><hr>

            <% if(typeof displayName == 'string' && displayName) { %>
                <a href="/book-list/add" class="btn btn-primary" role="button">
                <i class="fas fa-plus-circle"></i> Add a Book</a>
            <% } %><br>
            <br>
            <table class="table table-bordered table-striped table-hover">
                <!-- Header Row-->
               
                <tr>
                    <% if(typeof displayName == 'string' && displayName) { %>
                        <th class="text-center">Title</th>
                        <th class="text-center">Author</th>
                        <th class="text-center">Year</th>
                        <th class="text-center col-3">Description</th>
                        <th class="text-center">Price</th>
                        <th></th>
                        <th></th>
                    <% } else { %>
                        <th class="text-center">Title</th>
                        <th class="text-center">Author</th>
                        <th class="text-center">Year</th>
                        <th class="text-center col-3">Description</th>
                        <th class="text-center">Price</th>
                        
                    <% } %>
                </tr>
                
                <!-- Repeatable Template Row -->

                <% for(let count = 0; count < BookList.length; count++) { %>
                    <tr>
                        <% if(typeof displayName == "string" && displayName) { %>
                           <td class="text-center"><%= BookList[count].name %></td>
                           <td class="text-center"><%= BookList[count].author %></td>
                           <td class="text-center"><%= BookList[count].published %></td>
                           <td class="col-3"><%= BookList[count].description %></td>
                           <td class="text-center"><%= BookList[count].price %></td>
                           <td class="text-center">
                            <a href="/book-list/edit/<%= BookList[count]._id %>" class="btn btn-primary"> <i class="fa"></i>Edit</a>
                          </td>
                          <td class="text-center">
                            <a href="/book-list/delete/<%= BookList[count]._id %>" class="btn btn-warning btn-sm"> <i class="fa"></i>Delete</a>
                          </td>
                         <% } else { %>
                            <td class="text-center"><%= BookList[count].name %></td>
                            <td class="text-center"><%= BookList[count].author %></td>
                            <td class="text-center"><%= BookList[count].published %></td>
                            <td class="col-3"><%= BookList[count].description %></td>
                            <td class="text-center"><%= BookList[count].price %></td>
                         <% } %>
                       </tr>
                <% } %>
            </table>
        </div>
    </div>
  </main>
    
    
            <%- include('../partials/bottom_nav.ejs') %>
    
            <%- include('../partials/footer.ejs') %>